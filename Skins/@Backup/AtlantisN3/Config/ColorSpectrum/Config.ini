[Rainmeter]
AccurateText=1
Group=Up|Spec
OnRefreshAction=[!UpdateMeasure "MSetPos"]

[Metadata]
Name=Color Spectrum
Author=Original code by Kaelri, modified and adapted by Sephirotess :-).
Information=Color Spectrum. Click on the image (spectrum) to select a color. To apply, click on "color1" or "color2"... 
Version=1.1
License=Creative Commons Attribution-Noncommercial-Share Alike 4.0 License

[Variables]
@include=#@#Style.inc
@include2=#@#Languages\#language#.inc
DA2=0,0,0
FBD=148,148,148
DA3=0,55,80

[Fond]
Meter=Shape
Shape=Rectangle 3,2,419,433,8 | Extend Bla
Bla=Fill Color #DA2# | Stroke LinearGradient Gradient | StrokeWidth 4
Gradient=-5,-5 | #DA3# ; 0.0 | #FBP# ; 1.0
Bla1=StrokeDashes 0,1 | StrokeDashCap Round 
Shape2=Rectangle 20,18,385,20,4 | Fill RadialGradient Gradient6 | Extend Balls1, Bla1
Balls1=StrokeWidth 3 | Stroke LinearGradient Gradient2
Gradient2=-5,-5 | #FBD# ; 0.0 | #FBP# ; 1.0
Shape3=Rectangle 100,58,300,323,1 | Fill LinearGradient Gradient3 | Extend Balls2
Gradient3=220 | #FBD# ; 0.0 | #DA3# ; 1.0
Balls2=StrokeWidth 3 | Stroke LinearGradient Gradient4
Gradient4=1,1 | #FBD# ; 0.0 | #DA1# ; 1.0
Shape4=Rectangle 25,60,50,315,2 | Fill LinearGradient Gradient7 | Extend Balls3, Bla1
Shape5=Rectangle 20,400,385,20,4 | Fill RadialGradient Gradient6 | Extend Balls1, Bla1
Gradient5=1,1 | #FBD# ; 0.0 | #DA2# ; 1.0
Gradient6=0,5,20,20 | #FBD# ; 0.0 | #DA3# ; 1.0
Balls3=StrokeWidth 1.5 | Stroke LinearGradient Gradient3
Shape6=Rectangle 10,45,405,4,2 | Fill Color #FBD#
Shape7=Rectangle 10,390,405,4,2 
Shape8=Rectangle 10,10,4,415,2 
Shape9=Rectangle 413,10,4,416,2 
Shape10=Rectangle 85,45,4,348,2 
Shape11=Rectangle 10,423,406,4,2 
Shape12=Rectangle 10,10,406,4,2 
Shape13=Combine Shape6 | Union Shape7 | Union Shape8 | Union Shape9 | Union Shape10 | Union Shape11 | Union Shape12
Gradient7=95 | #FBD# ; 0.0 | #DA3# ; 1.0
UpdateDivider=-1

[Clo]
Meter=Shape
Y=22
Shape=Rectangle 377,0,23,13,2 | Fill LinearGradient GradientClo | Extend BallsClo
GradientClo=270 | #DA2# ; 0.0 | #FBP# ; 1.0
BallsClo=StrokeWidth 3 | Stroke LinearGradient GradientClo1
GradientClo1=1,1 | #FBD# ; 0.0 | #DA2# ; 1.0
ToolTipType=1
ToolTipText=#Clo#
LeftMouseUpAction=!DeactivateConfig
MouseOverAction=[!SetOption #CURRENTSECTION# Scale1 "Scale 1.2,1.2,0,20"][!SetOption #CURRENTSECTION# Y "25"][!UpdateMeter #CURRENTSECTION#][!Redraw]
MouseLeaveAction=[!SetOption #CURRENTSECTION# Scale1 ""][!SetOption #CURRENTSECTION# Y "22"][!UpdateMeter #CURRENTSECTION#][!Redraw]
Scale1=Scale 1,1,0,0
UpdateDivider=-1

[MSetPos]
Measure=Calc
Formula=1
OnUpdateAction=[!Move "((#WORKAREAWIDTH#-#CURRENTCONFIGWIDTH#)/2)" "((#WORKAREAHEIGHT#-#CURRENTCONFIGHEIGHT#)/2)"]
DynamicVariables=1
UpdateDivider=-1

[PLCO]
Meter=Shape
Shape=Rectangle 29,74,35,17,2 | Fill LinearGradient GradientClo | Extend BallsClo
GradientClo=270 | #DA2# ; 0.0 | #FBP# ; 1.0
BallsClo=StrokeWidth 1 | Stroke LinearGradient GradientClo1
GradientClo1=1,1 | #FBD# ; 0.0 | #DA2# ; 1.0
UpdateDivider=-1

[Title]
Meter=String
MeterStyle=Style
Text=#T2P9#
X=47
Y=76
StringAlign=Center

[PF1]
Shape=Rectangle 0,0,44,14,2 | Fill LinearGradient GradientClo | Extend BallsClo
GradientClo=270 | #FBP# ; 0.0 | #DA3# ; 1.0
BallsClo=StrokeWidth 1 | Stroke LinearGradient GradientClo1
GradientClo1=1,1 | #DA2# ; 0.0 | #FBP# ; 1.0
UpdateDivider=-1

[Im0]
Meter=Shape
MeterStyle=PF1
Shape=Rectangle 0,0,69,14,2 | Fill LinearGradient GradientClo | Extend BallsClo
X=118
Y=70

[Im1]
Meter=Shape
MeterStyle=PF1
Shape=Rectangle 0,0,252,14,2 | Fill LinearGradient GradientClo | Extend BallsClo
X=118
Y=12r

[Im2]
Meter=Shape
MeterStyle=PF1
Shape=Rectangle 0,0,94,14,2 | Fill LinearGradient GradientClo | Extend BallsClo
X=118
Y=250

[MUserName]
Measure=Plugin
Plugin=SysInfo.dll
SysInfoType=USER_NAME
UpdateDivider=-1

[MComputerName]
Measure=Plugin
Plugin=SysInfo.dll
SysInfoType=COMPUTER_NAME
UpdateDivider=-1

[MOSVersion]
Measure=Registry
RegHKey=HKEY_LOCAL_MACHINE
RegKey=SOFTWARE\Microsoft\Windows NT\CurrentVersion
RegValue=ProductName
UpdateDivider=-1

[MOSBits]
Measure=Plugin
Plugin=SysInfo
SysInfoType=OS_Bits
UpdateDivider=-1

[MTime]
Measure=TIME
Format="%H:%M:%S"

[MUptime]
Measure=Uptime
Format="%4!i!#D#, %3!i!h, %2!i!m, %1!i!s"

[Welc1]
Meter=String
MeterStyle=Style
MeasureName=MUserName
MeasureName2=MOSVersion
MeasureName3=MOSBits
X=75
Y=21
Text=#WLD# %1, #CBD1# %2 %3-bit

[Welc2]
Meter=String
MeterStyle=Style
MeasureName=MTime
MeasureName2=MComputerName
MeasureName3=MUptime
X=75
Y=404
Text=#CBD2# %1, %2 #CBD3# %3 
UpdateDivider=1

[STTI]
X=120

[Script]
Measure=Script
ScriptFile=ColorSpectrum.lua

[CT]
H=8
W=28
ToolTipType=1
UpdateDivider=-1

[IMS]
Shape=Rectangle 1,0,33,13,1 | Fill Color #DA2# | Extend Balls2
Balls2=StrokeWidth 2 | Stroke LinearGradient Gradient4
Gradient4=80 | #DA3# ; 0.0 | #FBP# ; 1.0
UpdateDivider=-1

[Orig]
Meter=String
MeterStyle=Style|STTI
Text=ColorSpectrum#CRLF#Original code by Kaelri, modified and adapted by me :-).
Y=70

[StyleColorRed]
FontColor=DA2822
X=([SelectedColor:X] + [SelectedColor:W] + 55)
Y=r
DynamicVariables=1
UpdateDivider=-1

[StyleColorGreen]
FontColor=A5C261
X=([SelectedColor:X] + [SelectedColor:W] + 90)
Y=r
DynamicVariables=1
UpdateDivider=-1

[StyleColorBlue]
FontColor=0080C0
X=([SelectedColor:X] + [SelectedColor:W] + 125)
Y=r
DynamicVariables=1
UpdateDivider=-1

[StyleColorComma]
Text=,
X=R
Y=r
FontColor=128,128,128
UpdateDivider=-1

[Spectrum]
Meter=Image
X=122
Y=110
ImageName=#@#Images\Config\ColorSpectrum.png
LeftMouseUpAction=!CommandMeasure Script GetRGB($MouseX$,$MouseY$)
UpdateDivider=-1

[Crosshair]
Meter=String
MeterStyle=Style
FontFace=Arial
FontColor=
StringEffect=Border
StringAlign=CenterCenter
X=366
Y=226

[SelectedColorLabel]
Meter=String
Text=#T4P9#:
MeterStyle=Style|STTI
Y=250

[SelectedColor]
Meter=Image
SolidColor=66,66,66
X=r
Y=4R
W=45
H=45
DynamicVariables=1
UpdateDivider=-1

[RGB_Label]
Meter=String
MeterStyle=Style
Text=RGB:
X=170
Y=2r
W=42
H=18
FontColor=128,128,128
DynamicVariables=1

[RGB_Red]
Meter=String
MeterStyle=Style|StyleColorRed

[RGB_Green]
Meter=String
MeterStyle=Style|StyleColorGreen

[RGB_Blue]
Meter=String
MeterStyle=Style|StyleColorBlue

[Imcs1]
Meter=Shape
MeterStyle=IMS
X=166
Y=319

[IP51]
Meter=Shape
MeterStyle=PF1
Shape=Rectangle 0,0,44,14,2 | Fill LinearGradient GradientClo | Extend BallsClo
X=115
Y=320

[Col1]
Meter=String
MeterStyle=Style|STTI
Text=#T2P9#1: 
Y=320
TooltipText=#CPCLC#

[CurC1]
Meter=Image
MeterStyle=CT
SolidColor=#FBB#
X=50r
Y=2r
TooltipText=#OACT#
UpdateDivider=-1

@include4=Color2.inc
@include5=Color3.inc
@include6=Color4.inc